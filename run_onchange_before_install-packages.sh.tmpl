#!/bin/bash

{{- if eq .chezmoi.os "linux" }}
sudo apt-get update
sudo apt-get upgrade
# check if git does not exists
if ! [ -x "$(command -v git)" ]; then
  sudo apt-get install git
fi

# install fzf
sudo apt install fzf
# install ripgrep
sudo apt-get install ripgrep
# install fd
sudo apt-get install fd-find

#install tmux
sudo apt-get install -y tmux

# install clipboard tools
sudo apt install xsel

# install zsh
sudo apt install zsh
zsh --version &>/dev/null
if [[ "$?" -eq 0 ]]; then
  chsh -s $(which zsh)
fi

# install kitty
sudo apt-get install kitty

# install neovim
if ! [ -x "$(command -v nvim)" ]; then
  curl -LO https://github.com/neovim/neovim/releases/latest/download/nvim.appimage
  chmod u+x nvim.appimage
  mkdir -p ~/bin/
  mv nvim.appimage ~/bin/nvim
fi
{{- end }}

if [ ! -d "$HOME/.oh-my-zsh" ]; then
	sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
fi
